
script_name=$1
shift

if [ $# -lt 1 ]; then
	echo "syntax error: $script_name .tkap [tkap_base]"
	exit 1
elif [ -f "$1" ]; then
	source $1
	shift
else
	echo "file not found: $1"
	exit 1
fi

if [ $# -eq 0 ]; then
	tkap_base_path=$(pwd)
elif [ -d "$1" ]; then
	tkap_base_path="$(realpath "$1")"
else
	echo "directory not found: $1"
fi

resolve_path() {
	local root=$1
	shift
	for k in "$@"; do 
		v=${!k}
		if [[ "$v" != /* ]]; then
			eval "$k=$root/$v"
		fi
	done
}

